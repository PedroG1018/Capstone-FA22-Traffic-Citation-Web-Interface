<div [formGroup]="form" class="p-4">
    <div fxLayoutGap="20px" formGroupName="driverInfo" fxLayout="row wrap" fxLayoutAlign="center center" fxLayout.lt-sm="column">
        <div fxFlex fxLayout="column" fxLayoutGap="10px">
            <mat-form-field>
            <mat-label>License Number</mat-label>
            <input matInput (ngModelChange)="findDriverByLicense($event)" #input formControlName="license_no"
                placeholder="Enter License Number" autocomplete="off" oninput="this.value = this.value.toUpperCase()"
                maxlength="8" />
            <mat-error *ngIf="driverInfo.controls['license_no'].hasError('required')">
                <strong>Required</strong>
            </mat-error>
            <mat-spinner diameter="25" matSuffix *ngIf="loading$ | async"></mat-spinner>
            <span matSuffix [hidden]="loading$ | async"> {{ input.value.length || 0 }}/8 </span>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Select License Class</mat-label>
            <mat-select formControlName="license_class">
                <mat-option value="C">C</mat-option>
                <mat-option value="A">A</mat-option>
                <mat-option value="B">B</mat-option>
            </mat-select>
            <mat-error *ngIf="driverInfo.controls['license_class'].hasError('required')">
                <strong>Required</strong>
            </mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Name</mat-label>
            <input matInput required formControlName="driver_name" placeholder="Enter first and last name" autocomplete="off" />
            <mat-error *ngIf="driverInfo.controls['driver_name'].hasError('required')">
                <strong>Required</strong>
            </mat-error>
        </mat-form-field>

        </div>

        <div fxFlex fxLayout="column" fxLayoutGap="10px">
            <mat-form-field>
            <mat-label>Date of Birth</mat-label>
            <input matInput formControlName="date_birth" type="date" />
            <mat-error *ngIf="driverInfo.controls['date_birth'].hasError('required')">
                <strong>Required</strong>
            </mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label> Hair Color </mat-label>
            <input matInput required formControlName="hair" placeholder="Enter hair color" autocomplete="off" />
            <mat-error *ngIf="driverInfo.controls['hair'].hasError('required')">
                <strong>Required</strong>
            </mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Eye Color</mat-label>
            <input matInput formControlName="eyes" placeholder="Enter eye color" autocomplete="off" />
            <mat-error *ngIf="driverInfo.controls['eyes'].hasError('required')">
                <strong>Required</strong>
            </mat-error>
        </mat-form-field>

        </div>
        
        <div fxFlex fxLayout="column" fxLayoutGap="10px">
            <mat-form-field>
            <mat-label>Height (ft)</mat-label>
            <span matSuffix>ft</span>
            <input matInput formControlName="height" placeholder="Enter height" autocomplete="off" />
            <mat-error *ngIf="driverInfo.controls['height'].hasError('required')">
                <strong>Required</strong>
            </mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Weight (lb)</mat-label>
            <span matSuffix>lb</span>
            <input matInput formControlName="weight" placeholder="Enter weight" maxlength="3" autocomplete="off" />
            <mat-error *ngIf="driverInfo.controls['weight'].hasError('required')">
                <strong>Required</strong>
            </mat-error>
            <mat-error *ngIf="driverInfo.controls['weight'].hasError('pattern')">
                Error: Only digits allowed
            </mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Race</mat-label>
            <input matInput formControlName="race" placeholder="Enter race" autocomplete="off" />
            <mat-error *ngIf="driverInfo.controls['race'].hasError('required')">
                <strong>Required</strong>
            </mat-error>
        </mat-form-field>
        </div>

        <div fxFlex fxLayout.gt-lg="column" fxLayout.gt-md="row" fxLayoutGap.gt-lg="10px" fxLayoutGap.lt-lg="10px">
            <mat-form-field>
            <mat-label>Address</mat-label>
            <input matInput formControlName="address" placeholder="Enter address" autocomplete="off" />
            <mat-error *ngIf="driverInfo.controls['address'].hasError('required')">
                <strong>Required</strong>
            </mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>City</mat-label>
            <input matInput formControlName="city" placeholder="Enter city" autocomplete="off" />
            <mat-error *ngIf="driverInfo.controls['city'].hasError('required')">
                <strong>Required</strong>
            </mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Select State</mat-label>
            <mat-select formControlName="state">
                <mat-option *ngFor="let state of states" [value]="state"> {{ state }} </mat-option>
            </mat-select>
            <mat-error *ngIf="driverInfo.controls['state'].hasError('required')">
                <strong>Required</strong>
            </mat-error>
        </mat-form-field>
        </div>

        <!-- <div fxFlex fxLayout="column">
            
        </div>

        <div fxFlex fxLayout="column" fxLayoutGap="10px">
        
        </div>
         -->
        <!-- <div fxLayout="column" fxLayoutGap="10px">
            <mat-form-field>
            <mat-label>Zip</mat-label>
            <input matInput formControlName="zip" placeholder="Enter zip code" maxlength="5" autocomplete="off" />
            <mat-error *ngIf="driverInfo.controls['zip'].hasError('required')">
                <strong>Required</strong>
            </mat-error>
            <mat-error *ngIf="driverInfo.controls['zip'].hasError('pattern')">
                Error: Only digits allowed
            </mat-error>
        </mat-form-field>
        </div> -->
        
        
        
    </div>
    <div formGroupName="driverInfo">
        <label>Sex</label>&nbsp;
            <mat-radio-group formControlName="sex" aria-label="Select an option" fxLayoutGap="10px">
                <mat-radio-button value="M">M</mat-radio-button>
                <mat-radio-button value="F">F</mat-radio-button>
            </mat-radio-group>
            <span [hidden]="driverInfo.controls['sex'].pristine && !driverInfo.controls['sex'].touched">
                <mat-error *ngIf="driverInfo.controls['sex'].hasError('required')">
                    <strong>Required</strong>
                </mat-error>
            </span>
        <br><br>
        <div fxLayoutGap="15px" *ngIf="!editingCitation">
            <button mat-raised-button color="primary" matStepperNext (click)="submitForm()">Next</button>
        </div>
    </div>
</div>